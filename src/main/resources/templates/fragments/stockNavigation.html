<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="stockNavigation">
    <div style="display: flex">
    <div th:classappend="${#httpServletRequest.requestURI.contains('/scanner')} ? 'hamburger' : 'hamburger hamburger--active'">
            <span class="hamburger__box">
                <span class="hamburger__inner"></span>
            </span>
    </div>
    <div th:classappend="${#httpServletRequest.requestURI.contains('/scanner')} ? 'navigation' : 'navigation navigation--active'">

        <div style="color: #00BCD4;font-size: 20px;font-weight: bold;" th:text="#{app.hello} + ': ' + ${#request.remoteUser} "></div><br/>
        <div sec:authorize="!hasRole('ROLE_ADMIN')">
            <div th:each="companies: ${companies}" style="color: #00BCD4;font-size: 20px;font-weight: bold;" th:text="#{app.company} + ': ' + ${companies.name}"></div><br/>
        </div>
        <div style="color: #00BCD4;font-size: 20px;font-weight: bold;" ><span id="loggedUserRole" sec:authentication="principal.authorities"></span></div><br/>
        <a id="checkStock" th:href="@{/warehouse}"><div  class="btn">
            <span th:text="#{app.chWarehouse}"></span>
            <img th:src="@{/images/return.png}" class="right"/>
            </div></a>
        <div class="btn arrowsRight"><a th:href="@{/stock}" ><div th:text="#{app.checkStock}" style="color:#fff">Check Stock</div></a></div>
        <div class="btn arrowsRight"><a th:href="@{/workDetails-browser}" ><div th:text="#{app.works}" style="color:#fff">Works</div></a></div>
        <div class="btn" id="productionMenu">
            <span th:text="#{app.productionMenu}"></span>
            <img id="productionImg" th:src="@{/images/list.png}" class="right"/>
        </div>
        <div id="productionBtn" class="d-none">
            <div class="btn2 arrowsRight"><a th:href="@{/production-browser}"><div th:text="#{app.ongoingProductions}" style="color: white"></div></a></div>
            <div class="btn2 arrowsRight"><a th:href="@{/startProducing}"><div th:text="#{app.startProducing}" style="color: white"></div></a></div>
        </div>
        <div class="btn arrowsRight"><a th:href="@{/scanner/{token}(token=${token})}" ><div th:text="#{app.scanner}" style="color: #fff">scanner</div></a></div>
        <div class="btn" id="reception">
            <span th:text="#{app.receptionMenu}"></span>
            <img id="receptionImg" th:src="@{/images/list.png}" class="right"/>
        </div>
        <div id="receptionBtn" class="d-none">
            <div class="btn2 arrowsRight"><a th:href="@{/reception/formReception}"><div th:text="#{app.declareReception}"  style="color: #fff">Declare Reception</div></a></div>
            <div class="btn2 arrowsRight"><a th:href="@{/reception/receptions-browser}"><div th:text="#{app.checkReceptions}"  style="color: #fff">Check Receptions</div></a></div>
            </div>
        <div class="btn" id="shipment">
            <span th:text="#{app.shipmentMenu}"></span>
            <img id="shipmentImg" th:src="@{/images/list.png}" class="right"/>
        </div>
        <div id="shipmentBtn" class="d-none">
            <div class="btn2 arrowsRight"><a th:href="@{/shipment/formShipment}"><div th:text="#{app.declareShipment}" style="color: white">Declare Shipment</div></a></div>
        <a th:href="@{/shipment/shipment}">
            <ol class="btn2 arrowsDown"><div th:text="#{app.checkShipment}" style="color: white;font-weight: normal">Check Shipments</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li>
                            <a th:href="@{/shipment/shipmentInCreation}"><span th:text="#{app.checkShipmentInCreation}"></span></a>
                        </li>
                    </ul>
                </li>
            </ol>
        </a>
            </div>
        <div class="btn" id="configuration">
            <span th:text="#{app.config}"></span>
            <img id="settingImg" th:src="@{/images/list.png}" class="right"/>
        </div>
        <span id="configBtn" class="d-none" style="width:100%">
            <span sec:authorize="!hasRole('ROLE_ADMIN')">
        <a th:href="@{/user/scheduler}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.scheduler}" style="color: white;font-weight: normal">Scheduler</div>
                <li style="min-width: 100%;">
                    <ul>
                        <li><a th:href="@{/user/formScheduler}"><span th:text="#{app.addScheduler}"></span></a></li>
                    </ul>
                </li>
            </ol>
        </a>
            <a th:href="@{/emailRecipients}" style="min-width: 100%">
             <ol class="btn2 arrowsDown"><div th:text="#{app.emailRecipientsList}" style="color: white;font-weight: normal">Emails Recipients list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li>
                            <a sec:authorize="hasRole('ROLE_USER')"  th:href="@{/user/formEmailRecipients}"><span th:text="#{app.addRecipientsList}"></span></a>
                        </li>
                    </ul>
                </li>
            </ol>
            </a>
            <a th:href="@{/article-browser}" style="min-width: 100%">
             <ol class="btn2 arrowsDown"><div th:text="#{app.articleList}" style="color: white;font-weight: normal">Article list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li>
                            <a  th:href="@{/formArticle}"><span th:text="#{app.addArticle}"></span></a>
                        </li>
                    </ul>
                </li>
            </ol>
        </a>
                <a th:href="@{/articleTypes}" style="min-width: 100%">
                <ol class="btn2 arrowsRight"><div th:text="#{app.articleTypes}" style="color: white;font-weight: normal">Article list</div >
                </ol>
            </a>
             <a th:href="@{/shipment/customer}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.customerList}" style="color: white;font-weight: normal">Customer list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li>
                            <a  th:href="@{/shipment/formCustomer}"><span th:text="#{app.addCustomer}"></span></a>
                        </li>
                    </ul>
                </li>
            </ol>
        </a>
            <a th:href="@{/reception/vendor}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.vendorList}" style="color: white;font-weight: normal">Vendor list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li>
                            <a th:href="@{/reception/formVendor}"><span th:text="#{app.addVendor}"></span></a>
                        </li>
                    </ul>
                </li>
            </ol>
        </a>
                <a th:href="@{/user/transactions-browser}" style="min-width: 100%">
            <ol class="btn2 arrowsRight"><div th:text="#{app.transactions}" style="color: white;font-weight: normal">Transaction</div>
            </ol>
        </a>
                 <a th:href="@{/user/issueLog-browser}" style="min-width: 100%">
            <ol class="btn2 arrowsRight"><div th:text="#{app.issueLog}" style="color: white;font-weight: normal">Issue Log</div>
            </ol>
        </a>
                      <a th:href="@{/user/locations-browser}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.locations}" style="color: white;font-weight: normal">Locations</div>
                 <li style="min-width: 100%;">
                    <ul>
                        <li> <a  th:href="@{/user/formLocation}"><span th:text="#{app.addLocation}"></span></a></li>
                        <li> <a  th:href="@{/user/formLocationPack}"><span th:text="#{app.addLocations}"></span></a></li>
                        <li> <a  th:href="@{/user/addLocToStorageZones}"><span th:text="#{app.addLocationsToStorageZone}"> </span></a></li>
                    </ul>
                </li>
            </ol>
        </a>
             <a th:href="@{/user/storageZones-browser}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.storageZones}" style="color: white;font-weight: normal">Storage Zones</div>
                 <li style="min-width: 100%;">
                    <ul>
                        <li>
                            <a  th:href="@{/user/formLocation}"><span th:text="#{app.addStorageZone}"></span></a>
                        </li>
                    </ul>
                </li>
            </ol>
        </a>
                </span>
            <span sec:authorize="hasRole('ROLE_ADMIN')">

                <div class="btn3" id="companyMenu">
            <span th:text="#{app.companyMenu}"></span>
            <img id="companyImg" th:src="@{/images/list.png}" class="right"/>
        </div>
        <span id="companyBtn" class="d-none">
            <a th:href="@{/config/warehouseList}" >
            <ol class="btn2 arrowsDown"><div th:text="#{app.warehousesList}" style="color: white;font-weight: normal">Warehouses list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li><a  th:href="@{/config/formWarehouseCreation}"><span th:text="#{app.addWarehouse}"></span></a></li>
                        <li><a  th:href="@{/config/warehouseDeactivatedList}"><span th:text="#{app.deactivateWarehouse}"></span></a></li>
                    </ul>
                </li>
            </ol>
        </a>
            <a th:href="@{/config/company}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.companiesList}" style="color: white;font-weight: normal">Companies list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li><a th:href="@{/config/formCompany}"><span th:text="#{app.addCompany}"></span></a></li>
                        <li><a th:href="@{/config/companyDeactivatedList}"><span th:text="#{app.deactivateCompany}"></span></a></li>

                    </ul>
                </li>
            </ol>
        </a>
        <a th:href="@{/reception/vendor}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.vendorList}" style="color: white;font-weight: normal">Vendor list</div>
            <li style="min-width: 100%;">
                <ul>
                    <li><a th:href="@{/reception/formVendor}"><span th:text="#{app.addVendor}"></span></a></li>
                    <li><a th:href="@{/config/vendorDeactivatedList}"><span th:text="#{app.deactivateVendor}"></span></a></li>
                </ul>
            </li>
        </ol>
        </a>
        <a th:href="@{/shipment/customer}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.customerList}" style="color: white;font-weight: normal">Customer list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li><a  th:href="@{/shipment/formCustomer}"><span th:text="#{app.addCustomer}"></span></a></li>
                        <li><a  th:href="@{/config/customerDeactivatedList}"><span th:text="#{app.deactivateCustomer}"></span></a></li>
                    </ul>
                </li>
            </ol>
        </a>

        </span>
        <div  class="btn3" id="stockMenu">
            <span th:text="#{app.stockMenu}"></span>
            <img id="stockImg" th:src="@{/images/list.png}" class="right"/>
        </div>
        <span id="stockBtn" class="d-none">
        <a th:href="@{/article-browser}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.articleList}" style="color: white;font-weight: normal">Article list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li><a th:href="@{formArticle}"><span th:text="#{app.addArticle}"></span></a></li>
                        <li><a th:href="@{/config/articleDeactivatedList}"><span th:text="#{app.deactivateArticle}"></span></a></li>
                    </ul>
                </li>
            </ol>
        </a>
            <a th:href="@{/articleTypes}" style="min-width: 100%">
                <ol class="btn2 arrowsRight"><div th:text="#{app.articleTypes}" style="color: white;font-weight: normal">Article list</div >
                </ol>
            </a>
        <a th:href="@{/config/unit}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.unitsList}" style="color: white;font-weight: normal">Units list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li><a th:href="@{/config/formUnitCreation}"><span th:text="#{app.addUnit}"></span></a></li>
                        <li><a th:href="@{/config/unitDeactivatedList}"><span th:text="#{app.deactivateUnit}"></span></a></li>
                    </ul>
                </li>
            </ol>
        </a>
        </span>
        <div class="btn3" id="userThings">
            <span th:text="#{app.userMenu}"></span>
            <img id="userImg" th:src="@{/images/list.png}" class="right"/>
        </div>
        <span id="userBtn" class="d-none">
        <a th:href="@{/config/userList}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.userList}" style="color: white;font-weight: normal">User list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li><a  th:href="@{/config/formUserCreation}"><span th:text="#{app.addUser}"></span></a></li>
                        <li><a  th:href="@{/config/usersDeactivatedList}"><span th:text="#{app.deactivateUsers}"></span></a></li>
                    </ul>
                </li>
            </ol>
        </a>
        <a th:href="@{/emailRecipients}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.emailRecipientsList}" style="color: white;font-weight: normal">Emails Recipients list</div >
                <li style="min-width: 100%;">
                    <ul>
                        <li><a th:href="@{/user/formEmailRecipients}"><span th:text="#{app.addRecipientsList}"></span></a></li>
                        <li><a th:href="@{/config/emailRecipientsDeactivatedList}"><span th:text="#{app.deactivateRecipientsList}"></span></a></li>

                    </ul>
                </li>
            </ol>
        </a>
        </span>
        <div  class="btn3" id="config">
            <span th:text="#{app.config}"></span>
            <img id="configImg" th:src="@{/images/list.png}" class="right"/>
        </div>
        <span id="configBt" class="d-none">
            <a th:href="@{/config/extremely}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.extremely}" style="color: white;font-weight: normal">extremely</div>
                 <li style="min-width: 100%;">
                    <ul>
                        <li><a th:href="@{/config/formExtremelyCreation}"><span th:text="#{app.addExtremely}"></span></a></li>
                    </ul>
                </li>
            </ol>
        </a>
            <a th:href="@{/user/scheduler}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.scheduler}" style="color: white;font-weight: normal">Scheduler</div>
                <li style="min-width: 100%;">
                    <ul>
                        <li><a th:href="@{/user/formScheduler}"><span th:text="#{app.addScheduler}"></span></a></li>
                        <li><a th:href="@{/config/schedulersDeactivatedList}"><span th:text="#{app.deactivateSchedulers}"></span></a></li>
                    </ul>
                </li>
            </ol>
        </a>
            <a th:href="@{/user/transactions-browser}" style="min-width: 100%">
            <ol class="btn2 arrowsRight"><div th:text="#{app.transactions}" style="color: white;font-weight: normal">Transaction</div>
            </ol>
        </a>
             <a th:href="@{/user/issueLog-browser}" style="min-width: 100%">
            <ol class="btn2 arrowsRight"><div th:text="#{app.issueLog}" style="color: white;font-weight: normal">Issue Log</div>
            </ol>
        </a>
                  <a th:href="@{/user/locations-browser}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.locations}" style="color: white;font-weight: normal">Locations</div>
                 <li style="min-width: 100%;">
                    <ul>
                        <li> <a  th:href="@{/user/formLocation}"><span th:text="#{app.addLocation}"></span></a></li>
                        <li> <a  th:href="@{/user/formLocationPack}"><span th:text="#{app.addLocations}"></span></a></li>
                        <li> <a  th:href="@{/user/addLocToStorageZones}"><span th:text="#{app.addLocationsToStorageZone}"></span></a></li>
                        <li> <a  th:href="@{/config/locationsDeactivatedList}"><span th:text="#{app.deactivatedList}"></span></a></li>
                    </ul>
                </li>
            </ol>
        </a>
             <a th:href="@{/user/storageZones-browser}" style="min-width: 100%">
            <ol class="btn2 arrowsDown"><div th:text="#{app.storageZones}" style="color: white;font-weight: normal">Storage Zones</div>
                 <li style="min-width: 100%;">
                    <ul>
                        <li>
                            <a  th:href="@{/user/formLocation}"><span th:text="#{app.addStorageZone}"></span></a>
                        </li>
                    </ul>
                </li>
            </ol>
        </a>
        </span>


            </span>
        </span>

    </div>
    </div>
    <script>
        let loggedUserRole = $('#loggedUserRole').text()

        const productionMenu = document.getElementById("productionMenu");
        let switcherProd = 0;

        const handleClickProduction = () => {
            switcherProd = switcherProd + 1;
            imgSwitcherProd();
        }

        function imgSwitcherProd(){
            if(switcherProd % 2 == 0){
                document.getElementById('productionImg').src = '/images/list.png';
                $("#productionBtn").hide(500)
            }
            else{
                document.getElementById('productionImg').src = '/images/close.png';
                $("#productionBtn").show(500);
                $('html, body').animate({
                    scrollTop: $("#productionMenu").offset().top
                }, 2000);
            }
        }

        productionMenu.addEventListener('click', handleClickProduction);


        const reception = document.getElementById("reception");
        let switcherRec = 0;

        const handleClickReception = () => {
            switcherRec = switcherRec + 1;
            imgSwitcherRec();
        }

        function imgSwitcherRec(){
            if (switcherRec % 2 == 0) {
                document.getElementById('receptionImg').src  = '/images/list.png';
                $("#receptionBtn").hide(500);
                $('html, body').animate({
                    scrollTop: $("#topA").offset().top
                }, 1000);
            }
            else {
                document.getElementById('receptionImg').src = '/images/close.png';
                $("#receptionBtn").show(500);
                $('html, body').animate({
                    scrollTop: $("#reception").offset().top
                }, 2000);
            }
        }

        reception.addEventListener('click', handleClickReception);

        const shipment = document.getElementById("shipment");
        let switcherShi = 0;

        const handleClickShipment = () => {
            switcherShi = switcherShi + 1;
            imgSwitcherShi();
        }

        function imgSwitcherShi(){
            if (switcherShi % 2 == 0) {
                document.getElementById('shipmentImg').src  = '/images/list.png';
                $("#shipmentBtn").hide(500);
                $('html, body').animate({
                    scrollTop: $("#topA").offset().top
                }, 1000);
            }
            else {
                document.getElementById('shipmentImg').src = '/images/close.png';
                $("#shipmentBtn").show(500);
                $('html, body').animate({
                    scrollTop: $("#shipment").offset().top
                }, 2000);
            }
        }

        shipment.addEventListener('click', handleClickShipment);

        const configuration = document.getElementById("configuration");
        let switcherSet = 0;

        const handleClickConfiguration = () => {
            switcherSet = switcherSet + 1;
            imgSwitcherSet();
        }

        function imgSwitcherSet(){
            if (switcherSet % 2 == 0) {
                document.getElementById('settingImg').src  = '/images/list.png';
                $("#configBtn").hide(500);
                $('html, body').animate({
                    scrollTop: $("#topA").offset().top
                }, 1000);
            }
            else {
                document.getElementById('settingImg').src = '/images/close.png';
                $("#configBtn").show(500);
                $('html, body').animate({
                    scrollTop: $("#configuration").offset().top
                }, 2000);
            }
        }

        configuration.addEventListener('click', handleClickConfiguration);


        /////// FOR ADMIN
        if(loggedUserRole == "[ROLE_ADMIN]"){
            const companyMenu = document.getElementById("companyMenu");
            let switcherCom = 0;

            const handleClickCompany = () => {
                switcherCom = switcherCom + 1;
                imgSwitcherCom();
            }

            function imgSwitcherCom(){
                if (switcherCom % 2 == 0) {
                    document.getElementById('companyImg').src  = '/images/list.png';
                    $("#companyBtn").hide(500);
                    $('html, body').animate({
                        scrollTop: $("#checkStock").offset().top
                    }, 1000);
                }
                else {
                    document.getElementById('companyImg').src = '/images/close.png';
                    $("#companyBtn").show(500);
                    $('html, body').animate({
                        scrollTop: $("#companyMenu").offset().top
                    }, 2000);
                }
            }

            companyMenu.addEventListener('click', handleClickCompany);

            const stockMenu = document.getElementById("stockMenu");
            let switcherSto = 0;

            const handleClickStock = () => {
                switcherSto = switcherSto + 1;
                imgSwitcherSto();
            }

            function imgSwitcherSto(){
                if (switcherSto % 2 == 0) {
                    document.getElementById('stockImg').src  = '/images/list.png';
                    $("#stockBtn").hide(500);
                    $('html, body').animate({
                        scrollTop: $("#checkStock").offset().top
                    }, 1000);
                }
                else {
                    document.getElementById('stockImg').src = '/images/close.png';
                    $("#stockBtn").show(500);
                    $('html, body').animate({
                        scrollTop: $("#stockMenu").offset().top
                    }, 2000);
                }
            }

            stockMenu.addEventListener('click', handleClickStock);

            const userThings = document.getElementById("userThings");
            let switcherUsr = 0;

            const handleClickUser = () => {
                switcherUsr = switcherUsr + 1;
                imgSwitcherUsr();
            }

            function imgSwitcherUsr(){
                if (switcherUsr % 2 == 0) {
                    document.getElementById('userImg').src  = '/images/list.png';
                    $("#userBtn").hide(500);
                    $('html, body').animate({
                        scrollTop: $("#checkStock").offset().top
                    }, 1000);
                }
                else {
                    document.getElementById('userImg').src = '/images/close.png';
                    $("#userBtn").show(500);
                    $('html, body').animate({
                        scrollTop: $("#userThings").offset().top
                    }, 2000);
                }
            }

            userThings.addEventListener('click', handleClickUser);

            const config = document.getElementById("config");
            let switcherCon = 0;

            const handleClickConfig = () => {
                switcherCon = switcherCon + 1;
                imgSwitcherCon();
            }

            function imgSwitcherCon(){
                if (switcherCon % 2 == 0) {
                    document.getElementById('configImg').src  = '/images/list.png';
                    $("#configBt").hide(500);
                    $('html, body').animate({
                        scrollTop: $("#checkStock").offset().top
                    }, 1000);
                }
                else {
                    document.getElementById('configImg').src = '/images/close.png';
                    $("#configBt").show(500);
                    $('html, body').animate({
                        scrollTop: $("#config").offset().top
                    }, 2000);
                }
            }

            config.addEventListener('click', handleClickConfig);

        }

    </script>
</div>
</body>
</html>